import{c as T}from"./chunk-PUXXO7S7.js";import{c as l}from"./chunk-OR3YQLTM.js";import{a as v,f as V}from"./chunk-B65QZPSO.js";import{b as q,c as H,d as J}from"./chunk-NVSVJ7RL.js";import{a as X,b as j,c as U}from"./chunk-SM44F3KC.js";import{b as L}from"./chunk-5LCOQMGY.js";import"./chunk-RTAVDR33.js";import{Xa as G,Z as B,f as E,i as R,r as k}from"./chunk-DWY52GTV.js";import{b as w}from"./chunk-32UGR4Z7.js";import{Ec as N,Fb as o,Gb as r,Hb as g,Hc as D,Ib as I,Ic as A,Jb as S,Ka as x,La as M,Lb as $,Nb as O,Pb as C,Xb as d,Yb as p,Zb as f,bb as b,db as e,dc as F,ec as a,hc as h,ic as P,qb as y,ub as n,va as u,z as _,za as z}from"./chunk-K3IAFSO2.js";var Y=()=>[30,30],Z=()=>({span:7}),m=()=>({span:24}),tt=()=>({span:17});function et(c,i){if(c&1){let t=$();I(0),o(1,"nz-row",2)(2,"nz-col",3),g(3,"img",4),r(),o(4,"nz-col",3)(5,"h1"),d(6),r(),o(7,"h3"),d(8),r(),g(9,"nz-rate",5),o(10,"h1"),d(11),r(),o(12,"h5"),d(13),r(),o(14,"button",6),h(15,"async"),O("click",function(){let Q=x(t).$implicit,W=C();return M(W.addCart(Q))}),d(16),r()()(),S()}if(c&2){let t=i.$implicit,s=C();e(),n("nzGutter",a(17,Y)),e(),n("nzLg",a(18,Z))("nzMd",a(19,m))("nzXs",a(20,m)),e(),n("src",t.image,b),e(),n("nzLg",a(21,tt))("nzMd",a(22,m))("nzXs",a(23,m)),e(2),p(t.title),e(2),p(t.category),e(),n("ngModel",2),e(2),f("\u20B9",t.price,""),e(2),p(t.description),e(),n("disabled",P(15,15,s.loading$)),e(2),f("",t.isAddedCart?"Added":"Add"," Cart")}}var K=class c{productId="";singleProduct$;loading$;activatedRoute=u(w);store$=u(G);constructor(){}ngOnInit(){this.activatedRoute.params.pipe(_(i=>{this.productId=i.id,this.productId&&(this.store$.dispatch(l.getSingleProduct({productId:Number(this.productId)})),this.singleProduct$=this.store$.select(T))})).subscribe(),this.loading$=this.store$.select(V)}addCart(i){let t={id:1,userId:1,products:[i]};i.isAddedCart?(this.store$.dispatch(v.deleteCarts({userId:1,deletedProductByCart:t})),this.store$.dispatch(l.updateSingleProductCart({id:i.id,changes:{isAddedCart:!1}}))):(this.store$.dispatch(v.addCarts({userId:1,addCartData:t})),this.store$.dispatch(l.updateSingleProductCart({id:i.id,changes:{isAddedCart:!0}})))}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=z({type:c,selectors:[["app-product-detail"]],standalone:!0,features:[F],decls:3,vars:3,consts:[[1,"detailContainer"],[4,"ngFor","ngForOf"],[3,"nzGutter"],[3,"nzLg","nzMd","nzXs"],["alt","",3,"src"],["nzDisabled","",3,"ngModel"],[3,"click","disabled"]],template:function(t,s){t&1&&(o(0,"div",0),y(1,et,17,24,"ng-container",1),h(2,"async"),r()),t&2&&(e(),n("ngForOf",P(2,1,s.singleProduct$)))},dependencies:[A,N,D,k,E,R,q,B,U,j,X,J,H,L],styles:[".detailContainer[_ngcontent-%COMP%]{padding:15px;height:calc(100dvh - 95px)}.detailContainer[_ngcontent-%COMP%]   nz-row[_ngcontent-%COMP%]   nz-col[_ngcontent-%COMP%]:last-child{margin-block:auto}.detailContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:500px}.detailContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--white-clr);padding:10px 20px;margin-top:10px;display:flex;align-items:center;gap:2px}"]})};export{K as ProductDetailComponent};
