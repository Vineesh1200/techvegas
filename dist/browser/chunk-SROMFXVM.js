import{a as D,b as T,c as V,d as A}from"./chunk-BCQVX7ZX.js";import{a as M,d as O,e as B,f as j}from"./chunk-B65QZPSO.js";import{d as R}from"./chunk-NVSVJ7RL.js";import{a as E,b as F}from"./chunk-5LCOQMGY.js";import"./chunk-RTAVDR33.js";import{Xa as k,r as N}from"./chunk-DWY52GTV.js";import{Ec as I,Fb as n,Fc as P,Gb as a,Hb as u,Hc as $,Ic as S,Ka as C,La as b,Lb as y,Nb as z,Pb as f,Xb as c,Yb as x,Zb as m,bb as w,db as i,dc as _,hc as p,ic as l,qb as s,ub as d,va as h,z as g,za as v}from"./chunk-K3IAFSO2.js";function G(o,e){o&1&&u(0,"nz-spin",12)}function H(o,e){if(o&1){let t=y();n(0,"nz-card",4)(1,"a")(2,"div",5)(3,"section"),u(4,"img",6),a(),n(5,"div",7)(6,"h2"),c(7),a(),n(8,"div",8)(9,"h4"),c(10),a(),n(11,"h3",9),c(12),a()(),n(13,"h3",9),c(14),a(),n(15,"button",10),p(16,"async"),z("click",function(){let U=C(t).$implicit,q=f();return b(q.removeProduct(U))}),c(17,"Remove "),s(18,G,1,0,"nz-spin",11),p(19,"async"),a()()()()()}if(o&2){let t=e.$implicit,r=f();i(4),d("src",t==null?null:t.image,w),i(3),x(t==null?null:t.title),i(3),x(t==null?null:t.category),i(2),m("\u20B9",t==null?null:t.price,""),i(2),m("\u20B9",t==null?null:t.price,""),i(),d("disabled",l(16,7,r.loading$)),i(3),d("ngIf",r.removedItem==t&&l(19,9,r.loading$))}}var L=class o{cartProducts$;cartsCount=0;loading$;removedItem;store$=h(k);ngOnInit(){this.cartProducts$=this.store$.select(O),this.store$.select(B).subscribe(e=>{this.cartsCount=e}),this.loading$=this.store$.select(j)}removeObjectById(e){return this.cartProducts$.pipe(g(t=>t.filter(r=>r.id!==e)))}removeProduct(e){this.removedItem=e;let t={id:1,userId:1,products:[e]};this.store$.dispatch(M.deleteCarts({userId:1,deletedProductByCart:t}))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["app-cart"]],standalone:!0,features:[_],decls:6,vars:4,consts:[[1,"cartContainer"],["align","center"],["nz-flex","",1,"card-container","fx-center"],["class","card-item",4,"ngFor","ngForOf"],[1,"card-item"],["nz-flex","","nzVertical","",1,"card-item-option"],["alt","Product Image",3,"src"],[1,"card-item-detail"],[1,"linear","fx-center"],[1,"amount"],[3,"click","disabled"],["nzSimple","",4,"ngIf"],["nzSimple",""]],template:function(t,r){t&1&&(n(0,"div",0)(1,"h2",1),c(2),a(),n(3,"div",2),s(4,H,20,11,"nz-card",3),p(5,"async"),a()()),t&2&&(i(2),m("Carts : ",r.cartsCount,""),i(2),d("ngForOf",l(5,2,r.cartProducts$)))},dependencies:[T,D,A,V,S,I,P,$,R,N,F,E],styles:[`.cartContainer{padding:15px}.card-container{flex-wrap:wrap;gap:25px!important;justify-content:center;margin-top:25px}.card-container .card-item{width:280px;overflow:hidden;position:relative;z-index:0;cursor:pointer;border-radius:10px}.card-container .card-item .ant-card-body{padding:8px!important}.card-container .card-item .card-item-option a{width:100%;height:100%}.card-container .card-item .card-item-option section>img{border-radius:8px;height:200px;width:100%;aspect-ratio:1/1}.card-container .card-item .card-item-option .card-item-detail{padding:10px;width:100%}.card-container .card-item .card-item-option .card-item-detail h2{color:var(--black-clr);font-size:20px;font-weight:600;padding-bottom:0;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.card-container .card-item .card-item-option .card-item-detail h4{color:var(--gray-clr);font-weight:500;display:flex;align-items:center;font-size:15px;white-space:nowrap}.card-container .card-item .card-item-option .card-item-detail .linear{justify-content:space-between}.card-container .card-item .card-item-option .card-item-detail h3{color:var(--dark-blue-clr);font-size:18px;font-weight:600}.card-container .card-item .card-item-option .card-item-detail>.amount{display:none}.card-item-detail button{color:var(--white-clr);padding:3px 10px;margin-top:3px;width:100%;display:flex;align-items:center;gap:2px;justify-content:center}@media screen and (max-width: 600px){.card-container{gap:15px!important}.card-container .card-item{width:100%}.card-container .card-item .card-item-option{flex-direction:row;width:100%}.card-container .card-item .card-item-option section>img{height:100px;width:100px;aspect-ratio:1/1}.card-container .card-item .card-item-option .card-item-detail{padding-top:0}.card-container .card-item .card-item-option .card-item-detail h2{font-size:18px;width:100%;margin-bottom:0}.card-container .card-item .card-item-option .card-item-detail h4{font-size:13px}.card-container .card-item .ant-rate{margin-top:-20px!important}.card-container .card-item .card-item-option .card-item-detail h3{font-size:17px;margin-bottom:0}.card-container .card-item .card-item-option .card-item-detail .linear .amount{display:none}.card-container .card-item .card-item-option .card-item-detail>.amount{display:flex}}
`],encapsulation:2})};export{L as CartComponent};
